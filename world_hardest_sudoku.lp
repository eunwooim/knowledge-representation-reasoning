1 {a(X,Y,N):X=1..9,Y=1..9,X1<=X,X<=X1+2,Y1<=Y,Y<=Y1+2} 1
:- N=1..9, X1=3*(0..2)+1, Y1=3*(0..2)+1.

:- a(X,Y,N), a(X,Y,N1), N!=N1.
:- a(X,Y,N), a(X,Y1,N), Y!=Y1.
:- a(X,Y,N), a(X1,Y,N), X!=X1.

a(1,1,8). a(2,3,7). a(2,4,5). a(2,9,9). a(3,2,3). a(3,7,1). a(3,8,8). a(4,2,6). a(4,6,1). a(4,8,5). a(5,3,9). a(5,5,4). a(6,4,7). a(6,5,5). a(7,3,2). a(7,5,7). a(7,9,4). a(8,6,3). a(8,7,6). a(8,8,1). a(9,7,8).
