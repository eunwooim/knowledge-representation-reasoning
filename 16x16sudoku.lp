1 {a(X,Y,N):X=1..16,Y=1..16,X1<=X,X<=X1+3,Y1<=Y,Y<=Y1+3} 1
:- N=1..16, X1=4*(0..3)+1, Y1=4*(0..3)+1.

:- a(X,Y,N), a(X,Y,N1), N!=N1.
:- a(X,Y,N), a(X,Y1,N), Y!=Y1.
:- a(X,Y,N), a(X1,Y,N), X!=X1.

a(1,1,9). a(1,2,6). a(1,3,4). a(1,6,5). a(1,8,16). a(1,9,15). a(1,11,2). a(1,14,8). a(1,15,10). a(1,16,11). a(2,1,14). a(2,2,12). a(2,4,15). a(2,5,7). a(2,7,8). a(2,10,9). a(2,12,13). a(2,13,5). a(2,15,1). a(2,16,2). a(3,4,16). a(3,5,15). a(3,6,13). a(3,11,8). a(3,12,12). a(3,13,3). a(4,3,7). a(4,7,10). a(4,10,6). a(4,14,4). a(5,3,6). a(5,4,9). a(5,6,14). a(5,8,5). a(5,9,16). a(5,11,15). a(5,13,2). a(5,14,12). a(6,1,3). a(6,2,14). a(6,4,7). a(6,7,9), a(6,10,5). a(6,13,16). a(6,15,15). a(6,16,8). a(7,6,15). a(7,7,4). a(7,8,3). a(7,9,10). a(7,10,13). a(7,11,14). a(8,1,5). a(8,3,13). a(8,7,11). a(8,10,3). a(8,14,1). a(8,16,14). a(9,1,15). a(9,3,16). a(9,7,13). a(9,10,1). a(9,14,6). a(9,16,3). a(10,6,10). a(10,7,6). a(10,8,14). a(10,9,9). a(10,10,15). a(10,11,16). a(11,1,2). a(11,2,10). a(11,4,11), a(11,7,15). a(11,10,4). a(11,13,13). a(11,15,16). a(11,16,1). a(12,3,1). a(12,4,6). a(12,6,3). a(12,8,9). a(12,9,13). a(12,11,12). a(12,13,10). a(12,14,7). a(13,3,2). a(13,7,14). a(13,10,7). a(13,14,15). a(14,4,3). a(14,5,2). a(14,6,1). a(14,11,5). a(14,12,9). a(14,13,12). a(15,1,7). a(15,2,5). a(15,4,14). a(15,5,16). a(15,7,3). a(15,10,12). a(15,12,11). a(15,13,9). a(15,15,6). a(15,16,10). a(16,1,1). a(16,2,11). a(16,3,9). a(16,6,8). a(16,8,6). a(16,9,14). a(16,11,13). a(16,14,3). a(16,15,2). a(16,16,7).
